(this.webpackJsonppiximo=this.webpackJsonppiximo||[]).push([[0],[,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/logo.5dee7346.png"},,function(e,t,a){e.exports=a(25)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,,function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(7),i=a.n(c),l=(a(15),a(8)),o=a.n(l),u=(a(16),function(e){var t=e.logo,a=e.logoText,n=e.children;return r.a.createElement("header",{className:"page_header"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"logo"},r.a.createElement("img",{src:t,alt:"Piximo"}),r.a.createElement("h1",null,a)),r.a.createElement("div",{className:"menu_holder"},n)))}),m=(a(17),function(e){var t=e.children;return r.a.createElement("footer",{className:"page_footer"},t)}),s=a(3),d=(a(18),function(e){var t={};return e.forEach((function(e){return t.hasOwnProperty(e)?t[e]+=1:t[e]=1})),Object.entries(t)}),f=function(e){for(var t=e.length/4,a=[],n=0;n<t;n++){var r=e[4*n+0],c=e[4*n+1],i=e[4*n+2],l=e[4*n+3];a.push("".concat(r,",").concat(c,",").concat(i,",").concat(l))}return a},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return Array.from({length:t}).map((function(t){return e}))},g=function(e,t){var a=e.width,n=e.height,r=Math.floor(a/t),c=a/r,i=n*c/a,l=e.getContext("2d"),o=r;for(var u=function(e){for(var t=function(t){setTimeout((function(){!function(e,t,a){var n=l.getImageData(e,t,a,a),r=f(n.data),c=d(r).filter((function(e){return"0,0,0,0"!==e[0]})).reduce((function(e,t){return e[1]>=t[1]?e:t})),i=p(c[0],n.data.length/4).map((function(e){return e.split(",")})).reduce((function(e,t){return e.concat(t)})),o=new ImageData(Uint8ClampedArray.from(i),n.width,n.height);l.putImageData(o,e,t)}(e*o,t*o,o)}),100)},a=0;a<i;a++)t(a)},m=0;m<c;m++)u(m)},h=(a(19),a(2)),v=function(e){var t=e.piximo,a=e.canvas,n=e.save,c=e.pixelSize,i=e.setPixelSize,l=e.setFileName,o=e.setImageData,u=r.a.createRef(),m=r.a.useState(!1),d=Object(s.a)(m,2),f=d[0],p=d[1];function g(e){e>256&&(e=256),e<1&&(e=1),i(e)}return r.a.createElement("div",{className:"controls_holder"},r.a.createElement("div",{className:"pixel-size-holder"},r.a.createElement("label",{htmlFor:"pixel-size"},"Set canvas width (px)"),r.a.createElement("button",{className:"pixel-size-button less",onClick:function(){return g(c-1)}},r.a.createElement(h.a,{icon:"minus-circle"})),r.a.createElement("input",{id:"pixel-size",name:"pixel-size",type:"number",value:c,onChange:function(e){return g(e.target.value)}}),r.a.createElement("button",{className:"pixel-size-button plus",onClick:function(){return g(c+1)}},r.a.createElement(h.a,{icon:"plus-circle"}))),r.a.createElement("div",{className:"buttons_holder"},r.a.createElement("input",{type:"file",className:"hidden",onChange:function(){if(u.current.files[0]){var e=u.current.files[0];u.current.value="";var t,n=new FileReader;n.addEventListener("load",(function(){var e=new Image;e.addEventListener("load",(function(){var t=a.current.clientWidth,n=e.height*t/e.width;a.current.width=t,a.current.height=n;var r=a.current.getContext("2d");r.drawImage(e,0,0,t,n),o(r.getImageData(0,0,t,n))})),e.src=n.result})),n.readAsDataURL(e),t=e.name,p(!1),setTimeout((function(){p(!0),l(t)}),1e3)}},accept:"image/*",ref:u}),r.a.createElement("button",{onClick:function(){return u.current.click()}},r.a.createElement(h.a,{icon:"upload"}),"Upload"),r.a.createElement("button",{onClick:t,disabled:!f},r.a.createElement(h.a,{icon:"magic"}),"Piximify!"),r.a.createElement("button",{onClick:n,disabled:!f},r.a.createElement(h.a,{icon:"save"}),"Save")))},E=function(e){var t=r.a.createRef(),a=r.a.useState(64),n=Object(s.a)(a,2),c=n[0],i=n[1],l=r.a.useState(""),o=Object(s.a)(l,2),u=o[0],m=o[1],d=r.a.useState([]),f=Object(s.a)(d,2),p=f[0],h=f[1];return r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"canvas_holder"},r.a.createElement("canvas",{ref:t})),r.a.createElement(v,{canvas:t,piximo:function(){t.current.getContext("2d").putImageData(p,0,0),g(t.current,c)},pixelSize:c,setPixelSize:i,save:function(){var e=t.current.toDataURL("image/png"),a=document.createElement("a"),n=u.replace(/\.[^/.]+$/,"");a.download="".concat(n,"-piximo"),a.href=e,a.click()},setFileName:m,setImageData:h}))};var x=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(u,{logo:o.a,logoText:"Piximo!"}),r.a.createElement("main",null,r.a.createElement("section",{className:"intro"},r.a.createElement("h2",null,"My cat is a magician!",r.a.createElement("br",null),r.a.createElement(h.a,{icon:"cat"}),r.a.createElement(h.a,{icon:"magic"})),r.a.createElement("p",null,"He will piximify any image uploaded here! Just give it a try.")),r.a.createElement(E,null)),r.a.createElement(m,null,"Made by \xa0",r.a.createElement("a",{href:"https://github.com/MCasante",target:"_blank",rel:"noopener noreferrer"},"@mcasante")))},b=a(4),N=a(9);b.b.add(N.a),i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(x,null)),document.getElementById("root"))}],[[10,1,2]]]);
//# sourceMappingURL=main.18db9e63.chunk.js.map